<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.3" />
<title>PLASMA INSTALLATION GUIDE</title>
<style type="text/css">
/* Sans-serif font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
div#toctitle,
span#author, span#revnumber, span#revdate, span#revremark,
div#footer {
  font-family: Arial,Helvetica,sans-serif;
}

/* Serif font. */
div.sectionbody {
  font-family: Georgia,"Times New Roman",Times,serif;
}

/* Monospace font. */
tt {
  font-size: inherit;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

tt {
  font-size: inherit;
  color: navy;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

pre {
  padding: 0;
  margin: 0;
}

span#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
span#email {
}
span#revnumber, span#revdate, span#revremark {
}

div#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
div#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
div#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

div#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.tableblock, div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #777777;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  div#footer-badges { display: none; }
}

div#toc {
  margin-bottom: 2.5em;
}

div#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

</style>
<script type="text/javascript">
/*<![CDATA[*/
window.onload = function(){asciidoc.footnotes(); asciidoc.toc(2);}
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([2-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  var cont = document.getElementById("content");
  var noteholder = document.getElementById("footnotes");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      // Use [\s\S] in place of . so multi-line matches work.
      // Because JavaScript has no s (dotall) regex flag.
      note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      spans[i].innerHTML =
        "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
        "' title='View footnote' class='footnote'>" + n + "</a>]";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
}

}
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>PLASMA INSTALLATION GUIDE</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>PLASMA installer is a set of python scripts developed to ease the installation
of PLASMA (Parallel Linear Algebra Software for Multicore Architectures)
and all software packages required by PLASMA: BLAS, CBLAS, LAPACK &amp; libtmg, LAPACKE and hwloc.
(Section <a href="#plasma_software_stack">PLASMA Software Stack</a> provides a brief description for each package.)</p></div>
<div class="paragraph"><p>None of these packages has to be present on the system prior to running the PLASMA installer in order
for the installation to succeed.
If any component is missing, the implementation provided by Netlib will be automatically downloaded
and installed prior to PLASMA installation.
The only exception is the hwloc package, which is optional and will not be automatically installed
if not already present at the time of running the installer.</p></div>
<div class="paragraph"><p>The user should not download the PLASMA tarball prior to running the installer.
<strong>The installer automatically downloads the PLASMA tarball.</strong>
This behavior can be overwritten if desired. (Section <a href="#installation_options">Installation Options</a>
provides more details.)</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_blas">Installing BLAS</h2>
<div class="sectionbody">
<div class="sidebarblock">
<div class="content">
<div class="paragraph"><p>It is crucial that the user provides an optimized implementation of BLAS.
If appropriate BLAS implementation is not installed prior to PLASMA installation,
the PLASMA installer will download and install the <em>reference</em> FORTRAN implementation of BLAS from Netlib.
This implementation should be considered the definition of BLAS rather than an implementation.
It is completely unoptimized for modern processors (what no compiler flag can remedy).
<strong>The use of Netlib BLAS will produce an order of magnitude lower performance than optimized BLAS.</strong></p></div>
</div></div>
<div class="paragraph"><p>A common mistake when attempting to run with optimized BLAS, is to forget to notify the OS
about the location of the dynamic library.
This it done by including the location of the dynamic library in the LD_LIBRARY_PATH environment variable, e.g.:</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/intel/mkl/lib/em64t</tt></pre>
</div></div>
<div class="paragraph"><p>It is also important to note that PLASMA requires sequential BLAS, not multithreaded BLAS.
<strong>Multithreading within BLAS will oversubscribe cores with threads and cause excessive cash thrashing,
which will annihilates performance.</strong>
The user can either provide sequential BLAS or provide multithreaded BLAS and disable multithreading.
This is done by setting the appropriate environment variable, e.g.:</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>export OMP_NUM_THREADS=1
export MKL_NUM_THREADS=1
export GOTO_NUM_THREADS=1
export ATLAS_NUM_THREADS=1</tt></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_hwloc">Installing hwloc</h2>
<div class="sectionbody">
<div class="paragraph"><p>The hwloc package is an optional component and PLASMA can be build without it.
However, if present, hwloc will help with mapping of the software to the hardware resources.
hwloc can be downloaded and installed from source code (<a href="http://www.open-mpi.org/projects/hwloc/">http://www.open-mpi.org/projects/hwloc/</a>).
However, hwloc is included in many Linux distributions and can be easily installed using standard
package management tools, e.g. the <em>apt-get</em> command line utility (requires root access):</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>apt-get install hwloc</tt></pre>
</div></div>
<div class="paragraph"><p>Also, PLASMA installer uses the pkg-config utility to detect and use hwloc.
If not already present, pkg-config can be installed in the same way, e.g.:</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>apt-get install pkg-config</tt></pre>
</div></div>
<div class="paragraph"><p>Also, the location of the &#8220;hwloc.pc&#8221; file (commonly /usr/lib/pkgconfig) has to be included
in the PKG_CONFIG_PATH environment variable, e.g.:</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/usr/lib/pkgconfig</tt></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="installation_options">Installation Options</h2>
<div class="sectionbody">
<div class="paragraph"><p>The installer provides the following set of command line options
(default settings are given in square brackets):</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>-h or --help        : Display this help and exit.</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--prefix=[DIR]      : Install libraries in the DIR directory. [./install]</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--build=[DIR]       : Build libraries in the DIR directory. [./build]</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--cc=[CMD]          : Use CMD to compile C files. [cc]</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--fc=[CMD]          : Use CMD to compile Fortran files. [gfortran]</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--cflags=[FLAGS]    : Use FLAGS for the C compiler. [-02]</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--fflags=[FLAGS]    : Use FLAGS for the Fortran compiler. [-O2]</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--ldflags_c=[FLAGS] : Use FLAGS for linking using C compiler.</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--ldflags_fc=[flags]: Use FLAGS for linking using Fortran compiler.
                      (By default ldflags_fc = ldflags_c.)</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--make=[CMD]        : Use CMD as the ``make'' command. [make]</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--blaslib=[LIB]     : Use LIB as the BLAS library.
                      (The path should be absolute if --prefix is used.)</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--cblaslib=[LIB]    : Use LIB as the CBLAS library.
                      (The path should be absolute if --prefix is used.)</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--lapacklib=[LIB]   : Use LIB as the LAPACK library.
                      (The path should be absolute if --prefix is used.)</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--lapclib=[LIB]     : Use LIB as the LAPACK C API.
                      (The path should be absolute if --prefix is used.)</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--downblas          : Download and install BLAS from Netlib.</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--downcblas         : Download and install CBLAS from Netlib.</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--downlapack        : Download and install LAPACK from Netlib.</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--downlapc          : Download and install LAPACK C API from Netlib.</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--downall           : Download and install all missing components from Netlib.</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--[no]testing       : Enables/disables testings.
                      If enabled, all external libraries are required and tested.
                      (Enabled by default.)</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--nbcores=[CORES]   : Use CORES number of cores for testing. [half of all the cores]</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--clean             : Clean up the installer directory.</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>--src               : Generate the make.inc file for PLASMA based on the set of provided options.
                      Automatically download and install all the missing components.
                      (Testing is deactivated.)
                      This option is mostly meant for developers, who check out PLASMA sources from its repository.</tt></pre>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph"><p>The installer can also be used without the wget command or access to a network connection.
Prior to running the installer the tarball of each missing component has to be placed in
the build/download directory. The components can be found in the following locations:</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://netlib.org/blas/blas.tgz">http://netlib.org/blas/blas.tgz</a>
</p>
</li>
<li>
<p>
<a href="http://www.netlib.org/blas/blast-forum/cblas.tgz">http://www.netlib.org/blas/blast-forum/cblas.tgz</a>
</p>
</li>
<li>
<p>
<a href="http://www.netlib.org/lapack/lapack.tgz">http://www.netlib.org/lapack/lapack.tgz</a>
</p>
</li>
<li>
<p>
<a href="http://icl.cs.utk.edu/projectsfiles/plasma/pubs/lapacke.tgz">http://icl.cs.utk.edu/projectsfiles/plasma/pubs/lapacke.tgz</a>
</p>
</li>
<li>
<p>
<a href="http://icl.cs.utk.edu/projectsfiles/plasma/pubs/plasma.tar.gz">http://icl.cs.utk.edu/projectsfiles/plasma/pubs/plasma.tar.gz</a>
</p>
</li>
</ul></div>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_installer_usage_examples">Installer Usage Examples</h2>
<div class="sectionbody">
<div class="paragraph"><p>For an installation with gcc, gfortran and Netlib BLAS type:</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>./setup.py --cc=gcc --fc=gfortran --downblas</tt></pre>
</div></div>
<div class="paragraph"><p>For an installation with gcc, gfortran and vecLib (Mac OS X) type:</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>./setup.py --cc=gcc --fc=gfortran --blaslib="-framework veclib"</tt></pre>
</div></div>
<div class="paragraph"><p>For an installation with gcc, gfortran and ATLAS type:</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>./setup.py --cc=gcc --fc=gfortran --blaslib="-lf77blas -lcblas -latlas"</tt></pre>
</div></div>
<div class="paragraph"><p>For an installation with gcc, gfortran and Goto BLAS type:</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>./setup.py --cc=gcc --fc=gfortran --blaslib="-lgoto"</tt></pre>
</div></div>
<div class="paragraph"><p>For an installation with xlc, xlf and ESSL type:</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>./setup.py --cc=xlc --fc=xlf --blaslib="-lessl"</tt></pre>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph"><p>A common mistake, when attempting to build with optimized BLAS, is to forget to notify the compiler
about the location of the library.
This it done by including the location of the library in the LD_LIBRARY_PATH environment variable, e.g.:</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/intel/mkl/lib/em64t</tt></pre>
</div></div>
<div class="paragraph"><p>Alternatively, the <em>-L</em> compiler flag can be included in the <em>--blaslib</em> option
(as show in further examples).</p></div>
</div></div>
<div class="paragraph"><p>Build and install in the current directory using Intel ICC and IFORT for compilation.</p></div>
<div class="paragraph"><p>Use sequential MKL for the EM64T architecture for BLAS.
Use LAPACK and CBLAS from Netlib and not from MKL:</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>./setup.py --prefix="/opt" \
           --cc=icc        \
           --fc=ifort      \
           --blaslib="-L/intel/mkl/lib/em64t -lmkl_intel_lp64 -lmkl_sequential -lmkl_core" \
           --downlapack \
           --downcblas</tt></pre>
</div></div>
<div class="paragraph"><p>Do the same, but instead of downloading PLASMA, generate a make.inc to use with PLASMA sources:</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>./setup.py --prefix="/opt" \
           --cc=icc        \
           --fc=ifort      \
           --blaslib="-L/intel/mkl/lib/em64t -lmkl_intel_lp64 -lmkl_sequential -lmkl_core" \
           --downlapack \
           --downcblas  \
           --src</tt></pre>
</div></div>
<div class="paragraph"><p>Finally, an empty template for cutting and pasting:</p></div>
<div class="literalblock">
<div class="content">
<pre><tt>./setup.py --prefix="" \
           --build="" \
           --cc= \
           --fc= \
           --cflags="" \
           --fflags="" \
           --ldflags_c="" \
           --ldflags_fc="" \
           --make= \
           --blaslib="" \
           --cblaslib="" \
           --lapacklib="" \
           --lapclib="" \
           --downblas \
           --downcblas \
           --downlapack \
           --downlapc \
           --downall \
           --[no]testing \
           --nbcores= \
           --src</tt></pre>
</div></div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph"><p><a href="http://software.intel.com/en-us/articles/intel-mkl-link-line-advisor/">Intel Math Kernel Library Link Line Advisor</a>
is an excellent tool for selecting the right link line when using Intel MKL library.</p></div>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="plasma_software_stack">PLASMA Software Stack</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
BLAS
</dt>
<dd>
<p>
BLAS (Basic Linear Algebra Subprograms), are a <em>de facto</em> standard
for basic linear algebra operations such as vector and matrix multiplication.
FORTRAN implementation of BLAS is available from Netlib (<a href="http://www.netlib.org/blas/">Netlib BLAS</a>).
Also, C implementation of BLAS is included in GSL (<a href="http://www.gnu.org/software/gsl/">GNU Scientific Library</a>).
Both these implementations are <em>reference</em> implementation of BLAS, are not optimized for modern processor
architectures and <strong>provide an order of magnitude lower performance than optimized implementations</strong>.
Highly optimized implementations of BLAS are available from many hardware vendors, such as Intel and AMD.
Fast implementations are also available as academic packages, such as ATLAS Goto BLAS.
The standard interface to BLAS is the FORTRAN interface.
</p>
</dd>
<dt class="hdlist1">
CBLAS
</dt>
<dd>
<p>
CBLAS is a C language interface to BLAS.
Most commercial and academic implementations of BLAS also provide CBLAS.
Netlib provides a reference implementation of CBLAS on top of FORTRAN BLAS
(<a href="http://www.netlib.org/blas/blast-forum/cblas.tgz">Netlib CBLAS</a>).
Since GSL is implemented in C, it naturally provides CBLAS.
</p>
</dd>
<dt class="hdlist1">
LAPACK
</dt>
<dd>
<p>
LAPACK (Linear Algebra PACKage) is a software library for numerical linear algebra,
a successor of LINPACK and EISPACK and a predecessor of PLASMA.
LAPACK provides routines for solving linear systems of equations, linear least square problems,
eigenvalue problems and singular value problems.
Most commercial and academic BLAS packages also provide some LAPACK routines.
</p>
</dd>
<dt class="hdlist1">
CLAPACK
</dt>
<dd>
<p>
CLAPACK is a C implementation of LAPACK provided by Netlib (<a href="http://www.netlib.org/clapack/">Netlib CLAPACK</a>).
CLAPACK is produced by automatic translation of FORTRAN LAPACK to C using the F2C utility
(<a href="http://www.netlib.org/f2c/">Netlib F2C</a>).
The purpose of CLAPACK is to provide LAPACK implementation in situations when FORTRAN compiler is not available.
Despite being implemented in C, CLAPACK provides the &#8220;original&#8221; FORTRAN interface,
which for the most part conforms to the GNU g77 ABI (Application Binary Interface).
</p>
</dd>
<dt class="hdlist1">
LAPACKE
</dt>
<dd>
<p>
LAPACKE is a C language interface to LAPACK (or CLAPACK).
It is produced by Intel in coordination with the LAPACK team and is available in source code
from Netlib (<a href="http://www.netlib.org/lapack/lapacke.tgz">Netlib LAPACKE</a>).
In addition to implementing the C interface, LAPACKE also provides routines which automatically
handle workspace allocation, making the use of LAPACK much more convenient.
</p>
</dd>
<dt class="hdlist1">
libtmg
</dt>
<dd>
<p>
<em>libtmg</em> is a component of the LAPACK library, containing routines for generation of input
matrices for testing and timing of LAPACK.
The testing and timing suites of LAPACK require libtmg, but not the library itself.
(The LAPACK library can be built and used without libtmg.)
</p>
</dd>
<dt class="hdlist1">
hwloc
</dt>
<dd>
<p>
<em>hwloc</em> (Portable Hardware Locality) is a software package for accessing the topology
of a multicore system including components like: cores, sockets, caches and NUMA nodes.
hwloc (<a href="http://www.open-mpi.org/projects/hwloc/">http://www.open-mpi.org/projects/hwloc/</a>) is a sub-project of the OpenMPI project
(<a href="http://www.open-mpi.org/">http://www.open-mpi.org/</a>).
</p>
</dd>
<dt class="hdlist1">
pthread
</dt>
<dd>
<p>
POSIX threads library is required to run PLASMA on Unix-like systems.
It is a standard component of any such system.
Windows threads are used on Microsoft Windows systems.
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_help">Getting Help</h2>
<div class="sectionbody">
<div class="paragraph"><p>Please use the PLASMA Users' Forum (<a href="http://icl.cs.utk.edu/plasma/forum/">http://icl.cs.utk.edu/plasma/forum/</a>) to get help
with PLASMA installation.</p></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2011-09-14 13:39:40 EDT
</div>
</div>
</body>
</html>
